/**
 * ╔═══════════════════════════════════════════════════════════════════════════════╗
 * ║                      ABYSS EXPLORER - ANIMATIONS                              ║
 * ╠═══════════════════════════════════════════════════════════════════════════════╣
 * ║  Keyframe animations, transitions, hover effects, loading states              ║
 * ║                                                                                ║
 * ║  Contents:                                                                     ║
 * ║  1. Loading Animations                                                        ║
 * ║  2. Spinner Variants                                                          ║
 * ║  3. Slide & Fade Animations                                                   ║
 * ║  4. Scale & Zoom Animations                                                   ║
 * ║  5. Pulse & Glow Effects                                                      ║
 * ║  6. Rotate Animations                                                         ║
 * ║  7. Progress & Bar Animations                                                 ║
 * ║  8. Toast Animations                                                          ║
 * ║  9. Fractal-Inspired Effects                                                  ║
 * ║  10. Button & Interactive Hover Effects                                       ║
 * ║  11. Card & Gallery Hover Effects                                             ║
 * ║  12. Input Focus Animations                                                   ║
 * ║  13. Modal & Panel Transitions                                                ║
 * ║  14. Skeleton Loading                                                         ║
 * ║  15. Canvas & Render Animations                                               ║
 * ╚═══════════════════════════════════════════════════════════════════════════════╝
 */

/* =============================================================================
   1. LOADING ANIMATIONS
   ============================================================================= */

/**
 * Loading Screen Container Animation
 */
.loading-screen {
    animation: loadingFadeIn var(--duration-slow) var(--ease-out);
}

.loading-screen.hidden {
    animation: loadingFadeOut var(--duration-normal) var(--ease-in) forwards;
}

@keyframes loadingFadeIn {
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
}

@keyframes loadingFadeOut {
    from {
        opacity: 1;
        visibility: visible;
    }
    to {
        opacity: 0;
        visibility: hidden;
    }
}

/**
 * Loading Content Animation
 */
.loading-content {
    animation: loadingContentPop var(--duration-slow) var(--ease-elastic);
}

@keyframes loadingContentPop {
    0% {
        opacity: 0;
        transform: scale(0.8);
    }
    100% {
        opacity: 1;
        transform: scale(1);
    }
}

/**
 * Loading Title Animation
 */
.loading-title {
    animation: loadingTitleSlide var(--duration-slow) var(--ease-out) 0.2s both;
}

@keyframes loadingTitleSlide {
    from {
        opacity: 0;
        transform: translateY(10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/**
 * Loading Status Text Animation
 */
.loading-status {
    animation: loadingStatusPulse 2s var(--ease-in-out) infinite;
}

@keyframes loadingStatusPulse {
    0%, 100% {
        opacity: 0.7;
    }
    50% {
        opacity: 1;
    }
}

/**
 * Loading Progress Bar Animation
 */
.loading-progress-bar {
    animation: progressShimmer 1.5s var(--ease-in-out) infinite;
    background: linear-gradient(
        90deg,
        var(--accent-dark) 0%,
        var(--accent) 50%,
        var(--accent-light) 75%,
        var(--accent) 100%
    );
    background-size: 200% 100%;
}

@keyframes progressShimmer {
    0% {
        background-position: 100% 0;
    }
    100% {
        background-position: -100% 0;
    }
}

/* =============================================================================
   2. SPINNER VARIANTS
   ============================================================================= */

/**
 * Fractal-Inspired Triple Ring Spinner
 * Mimics infinite zoom with three concentric rotating rings
 */
.loading-spinner {
    position: relative;
    width: 80px;
    height: 80px;
}

.spinner-ring {
    position: absolute;
    border-radius: 50%;
    border: 2px solid transparent;
}

.spinner-ring:nth-child(1) {
    inset: 0;
    border-top-color: var(--accent);
    animation: spinnerRotate 1.2s linear infinite;
}

.spinner-ring:nth-child(2) {
    inset: 10px;
    border-right-color: var(--accent-secondary);
    animation: spinnerRotate 1.5s linear infinite reverse;
}

.spinner-ring:nth-child(3) {
    inset: 20px;
    border-bottom-color: var(--accent-light);
    animation: spinnerRotate 2s linear infinite;
}

@keyframes spinnerRotate {
    from {
        transform: rotate(0deg);
    }
    to {
        transform: rotate(360deg);
    }
}

/**
 * Spinner Core Pulse
 */
.spinner-core {
    position: absolute;
    inset: 30px;
    
    background: var(--accent-gradient);
    border-radius: 50%;
    
    animation: spinnerCorePulse 1.5s var(--ease-in-out) infinite;
}

@keyframes spinnerCorePulse {
    0%, 100% {
        transform: scale(0.8);
        opacity: 0.6;
    }
    50% {
        transform: scale(1);
        opacity: 1;
    }
}

/**
 * Simple Circular Spinner
 */
.spinner {
    width: 24px;
    height: 24px;
    
    border: 2px solid var(--surface-2);
    border-top-color: var(--accent);
    border-radius: 50%;
    
    animation: spinnerRotate 0.8s linear infinite;
}

.spinner.spinner-sm {
    width: 16px;
    height: 16px;
    border-width: 1.5px;
}

.spinner.spinner-lg {
    width: 36px;
    height: 36px;
    border-width: 3px;
}

/**
 * Dots Spinner
 */
.spinner-dots {
    display: flex;
    gap: var(--space-1);
}

.spinner-dots span {
    width: 6px;
    height: 6px;
    
    background-color: var(--accent);
    border-radius: 50%;
    
    animation: dotsBounce 1.4s var(--ease-in-out) infinite;
}

.spinner-dots span:nth-child(1) {
    animation-delay: 0s;
}

.spinner-dots span:nth-child(2) {
    animation-delay: 0.2s;
}

.spinner-dots span:nth-child(3) {
    animation-delay: 0.4s;
}

@keyframes dotsBounce {
    0%, 80%, 100% {
        transform: scale(0.6);
        opacity: 0.5;
    }
    40% {
        transform: scale(1);
        opacity: 1;
    }
}

/* =============================================================================
   3. SLIDE & FADE ANIMATIONS
   ============================================================================= */

/**
 * Fade In
 */
@keyframes fadeIn {
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
}

@keyframes fadeOut {
    from {
        opacity: 1;
    }
    to {
        opacity: 0;
    }
}

.fade-in {
    animation: fadeIn var(--duration-normal) var(--ease-out);
}

.fade-out {
    animation: fadeOut var(--duration-normal) var(--ease-in);
}

/**
 * Slide Down
 */
@keyframes slideDown {
    from {
        opacity: 0;
        transform: translateY(-10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes slideUp {
    from {
        opacity: 0;
        transform: translateY(10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.slide-down {
    animation: slideDown var(--duration-normal) var(--ease-out);
}

.slide-up {
    animation: slideUp var(--duration-normal) var(--ease-out);
}

/**
 * Slide In from Side
 */
@keyframes slideInLeft {
    from {
        opacity: 0;
        transform: translateX(-20px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

@keyframes slideInRight {
    from {
        opacity: 0;
        transform: translateX(20px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

.slide-in-left {
    animation: slideInLeft var(--duration-normal) var(--ease-out);
}

.slide-in-right {
    animation: slideInRight var(--duration-normal) var(--ease-out);
}

/**
 * Slide Out
 */
@keyframes slideOutUp {
    from {
        opacity: 1;
        transform: translateY(0);
    }
    to {
        opacity: 0;
        transform: translateY(-10px);
    }
}

@keyframes slideOutDown {
    from {
        opacity: 1;
        transform: translateY(0);
    }
    to {
        opacity: 0;
        transform: translateY(10px);
    }
}

/* =============================================================================
   4. SCALE & ZOOM ANIMATIONS
   ============================================================================= */

/**
 * Scale In/Out
 */
@keyframes scaleIn {
    from {
        opacity: 0;
        transform: scale(0.9);
    }
    to {
        opacity: 1;
        transform: scale(1);
    }
}

@keyframes scaleOut {
    from {
        opacity: 1;
        transform: scale(1);
    }
    to {
        opacity: 0;
        transform: scale(0.9);
    }
}

.scale-in {
    animation: scaleIn var(--duration-normal) var(--ease-out);
}

.scale-out {
    animation: scaleOut var(--duration-fast) var(--ease-in);
}

/**
 * Zoom In (for images/previews)
 */
@keyframes zoomIn {
    from {
        transform: scale(1);
    }
    to {
        transform: scale(1.05);
    }
}

/**
 * Pop Animation (bounce scale)
 */
@keyframes pop {
    0% {
        transform: scale(1);
    }
    50% {
        transform: scale(1.1);
    }
    100% {
        transform: scale(1);
    }
}

.pop {
    animation: pop var(--duration-fast) var(--ease-bounce);
}

/**
 * Zoom Pulse (for zoom indicator)
 */
@keyframes zoomPulse {
    0% {
        transform: scale(1);
        opacity: 1;
    }
    100% {
        transform: scale(1.5);
        opacity: 0;
    }
}

/* =============================================================================
   5. PULSE & GLOW EFFECTS
   ============================================================================= */

/**
 * Pulse Animation
 */
@keyframes pulse {
    0%, 100% {
        opacity: 1;
    }
    50% {
        opacity: 0.5;
    }
}

.pulse {
    animation: pulse 2s var(--ease-in-out) infinite;
}

/**
 * Glow Pulse (for accented elements)
 */
@keyframes glowPulse {
    0%, 100% {
        box-shadow: 0 0 5px var(--accent-glow);
    }
    50% {
        box-shadow: 0 0 20px var(--accent-glow), 0 0 40px rgba(99, 102, 241, 0.2);
    }
}

.glow-pulse {
    animation: glowPulse 2s var(--ease-in-out) infinite;
}

/**
 * Subtle Glow (for buttons on hover)
 */
@keyframes subtleGlow {
    0%, 100% {
        box-shadow: var(--glow-sm);
    }
    50% {
        box-shadow: var(--glow-md);
    }
}

/**
 * Breathing Animation (for indicators)
 */
@keyframes breathe {
    0%, 100% {
        transform: scale(1);
        opacity: 0.8;
    }
    50% {
        transform: scale(1.1);
        opacity: 1;
    }
}

.breathe {
    animation: breathe 3s var(--ease-in-out) infinite;
}

/**
 * Live Indicator Pulse
 */
@keyframes livePulse {
    0% {
        transform: scale(1);
        opacity: 1;
    }
    50% {
        transform: scale(1.5);
        opacity: 0;
    }
    100% {
        transform: scale(1);
        opacity: 0;
    }
}

.live-indicator::after {
    content: '';
    position: absolute;
    inset: 0;
    
    background-color: inherit;
    border-radius: inherit;
    
    animation: livePulse 2s var(--ease-out) infinite;
}

/* =============================================================================
   6. ROTATE ANIMATIONS
   ============================================================================= */

/**
 * Continuous Rotation
 */
@keyframes rotate {
    from {
        transform: rotate(0deg);
    }
    to {
        transform: rotate(360deg);
    }
}

.rotate {
    animation: rotate 2s linear infinite;
}

.rotate-slow {
    animation: rotate 4s linear infinite;
}

.rotate-fast {
    animation: rotate 1s linear infinite;
}

/**
 * Swing Animation (pendulum)
 */
@keyframes swing {
    0%, 100% {
        transform: rotate(-3deg);
    }
    50% {
        transform: rotate(3deg);
    }
}

.swing {
    animation: swing 2s var(--ease-in-out) infinite;
    transform-origin: top center;
}

/**
 * Wobble Animation
 */
@keyframes wobble {
    0%, 100% {
        transform: translateX(0) rotate(0);
    }
    15% {
        transform: translateX(-5px) rotate(-2deg);
    }
    30% {
        transform: translateX(4px) rotate(1deg);
    }
    45% {
        transform: translateX(-3px) rotate(-1deg);
    }
    60% {
        transform: translateX(2px) rotate(0.5deg);
    }
    75% {
        transform: translateX(-1px) rotate(-0.5deg);
    }
}

.wobble {
    animation: wobble 0.8s var(--ease-out);
}

/* =============================================================================
   7. PROGRESS & BAR ANIMATIONS
   ============================================================================= */

/**
 * Progress Bar Fill
 */
@keyframes progressFill {
    from {
        width: 0;
    }
}

.progress-animate {
    animation: progressFill 0.5s var(--ease-out);
}

/**
 * Indeterminate Progress
 */
@keyframes indeterminateProgress {
    0% {
        left: -35%;
        right: 100%;
    }
    60% {
        left: 100%;
        right: -90%;
    }
    100% {
        left: 100%;
        right: -90%;
    }
}

.progress-indeterminate {
    position: relative;
    overflow: hidden;
}

.progress-indeterminate::after {
    content: '';
    position: absolute;
    top: 0;
    bottom: 0;
    
    background: var(--accent-gradient);
    
    animation: indeterminateProgress 2.1s var(--ease-in-out) infinite;
}

/**
 * Striped Progress Animation
 */
@keyframes progressStripes {
    from {
        background-position: 1rem 0;
    }
    to {
        background-position: 0 0;
    }
}

.progress-striped {
    background-image: linear-gradient(
        45deg,
        rgba(255, 255, 255, 0.15) 25%,
        transparent 25%,
        transparent 50%,
        rgba(255, 255, 255, 0.15) 50%,
        rgba(255, 255, 255, 0.15) 75%,
        transparent 75%,
        transparent
    );
    background-size: 1rem 1rem;
    animation: progressStripes 1s linear infinite;
}

/* =============================================================================
   8. TOAST ANIMATIONS
   ============================================================================= */

/**
 * Toast Slide In
 */
@keyframes toastSlideIn {
    from {
        opacity: 0;
        transform: translateX(100%);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

/**
 * Toast Slide Out
 */
@keyframes toastSlideOut {
    from {
        opacity: 1;
        transform: translateX(0);
    }
    to {
        opacity: 0;
        transform: translateX(100%);
    }
}

/**
 * Toast Progress Bar
 */
@keyframes toastProgress {
    from {
        width: 100%;
    }
    to {
        width: 0%;
    }
}

/* =============================================================================
   9. FRACTAL-INSPIRED EFFECTS
   ============================================================================= */

/**
 * Infinite Zoom Effect
 * Simulates the endless zoom into fractals
 */
@keyframes infiniteZoom {
    0% {
        transform: scale(1);
        opacity: 1;
    }
    100% {
        transform: scale(2);
        opacity: 0;
    }
}

.infinite-zoom {
    animation: infiniteZoom 3s var(--ease-in) infinite;
}

/**
 * Fractal Spiral
 * Rotating while scaling creates spiral effect
 */
@keyframes fractalSpiral {
    0% {
        transform: rotate(0deg) scale(1);
        opacity: 0.8;
    }
    50% {
        transform: rotate(180deg) scale(0.8);
        opacity: 1;
    }
    100% {
        transform: rotate(360deg) scale(1);
        opacity: 0.8;
    }
}

.fractal-spiral {
    animation: fractalSpiral 4s var(--ease-smooth) infinite;
}

/**
 * Self-Similar Pulse
 * Multiple rings pulsing at different phases
 */
@keyframes selfSimilarPulse {
    0%, 100% {
        transform: scale(0.8);
        opacity: 0.3;
    }
    50% {
        transform: scale(1.2);
        opacity: 0.8;
    }
}

/**
 * Mandelbrot Edge Shimmer
 * For highlighting boundary regions
 */
@keyframes mandelbrotShimmer {
    0% {
        filter: brightness(1) saturate(1);
    }
    25% {
        filter: brightness(1.2) saturate(1.2);
    }
    50% {
        filter: brightness(1) saturate(1.1);
    }
    75% {
        filter: brightness(1.1) saturate(1);
    }
    100% {
        filter: brightness(1) saturate(1);
    }
}

.mandelbrot-shimmer {
    animation: mandelbrotShimmer 3s var(--ease-smooth) infinite;
}

/**
 * Julia Set Morph
 * Subtle shape shifting effect
 */
@keyframes juliaMorph {
    0%, 100% {
        border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%;
    }
    50% {
        border-radius: 30% 60% 70% 40% / 50% 60% 30% 60%;
    }
}

.julia-morph {
    animation: juliaMorph 8s var(--ease-smooth) infinite;
}

/**
 * Iteration Ripple
 * Ripple effect for iteration visualization
 */
@keyframes iterationRipple {
    0% {
        transform: scale(0);
        opacity: 1;
    }
    100% {
        transform: scale(4);
        opacity: 0;
    }
}

.iteration-ripple {
    position: relative;
}

.iteration-ripple::after {
    content: '';
    position: absolute;
    inset: 0;
    
    border: 2px solid var(--accent);
    border-radius: 50%;
    
    animation: iterationRipple 1.5s var(--ease-out) infinite;
}

/**
 * Deep Zoom Trail
 * Trail effect for zoom animations
 */
@keyframes deepZoomTrail {
    0% {
        transform: scale(1) rotate(0deg);
        opacity: 0.8;
        filter: blur(0);
    }
    50% {
        transform: scale(0.5) rotate(180deg);
        opacity: 0.4;
        filter: blur(2px);
    }
    100% {
        transform: scale(0) rotate(360deg);
        opacity: 0;
        filter: blur(4px);
    }
}

/* =============================================================================
   10. BUTTON & INTERACTIVE HOVER EFFECTS
   ============================================================================= */

/**
 * Button Hover Lift
 */
.btn-hover-lift {
    transition: transform var(--duration-fast) var(--ease-out),
                box-shadow var(--duration-fast) var(--ease-out);
}

.btn-hover-lift:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-md);
}

.btn-hover-lift:active {
    transform: translateY(0);
    box-shadow: var(--shadow-sm);
}

/**
 * Button Ripple Effect
 */
.btn-ripple {
    position: relative;
    overflow: hidden;
}

.btn-ripple::after {
    content: '';
    position: absolute;
    
    width: 100%;
    padding-bottom: 100%;
    
    background-color: rgba(255, 255, 255, 0.3);
    border-radius: 50%;
    
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%) scale(0);
    
    opacity: 0;
}

.btn-ripple:active::after {
    animation: rippleEffect 0.6s var(--ease-out);
}

@keyframes rippleEffect {
    0% {
        transform: translate(-50%, -50%) scale(0);
        opacity: 1;
    }
    100% {
        transform: translate(-50%, -50%) scale(2);
        opacity: 0;
    }
}

/**
 * Icon Button Hover
 */
.icon-btn-hover {
    transition: var(--transition-all);
}

.icon-btn-hover:hover {
    background-color: var(--surface-hover);
}

.icon-btn-hover:hover .icon {
    transform: scale(1.1);
}

.icon-btn-hover:active .icon {
    transform: scale(0.95);
}

/**
 * Button Shine Effect
 */
.btn-shine {
    position: relative;
    overflow: hidden;
}

.btn-shine::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    
    width: 50%;
    height: 100%;
    
    background: linear-gradient(
        90deg,
        transparent,
        rgba(255, 255, 255, 0.2),
        transparent
    );
    
    transform: skewX(-25deg);
}

.btn-shine:hover::before {
    animation: shineEffect 0.75s var(--ease-out);
}

@keyframes shineEffect {
    from {
        left: -100%;
    }
    to {
        left: 200%;
    }
}

/* =============================================================================
   11. CARD & GALLERY HOVER EFFECTS
   ============================================================================= */

/**
 * Card Hover Rise
 */
.card-hover {
    transition: transform var(--duration-normal) var(--ease-out),
                box-shadow var(--duration-normal) var(--ease-out);
}

.card-hover:hover {
    transform: translateY(-4px);
    box-shadow: var(--shadow-lg);
}

/**
 * Gallery Item Hover
 */
.gallery-item {
    transition: transform var(--duration-normal) var(--ease-out),
                border-color var(--duration-fast) var(--ease-out),
                box-shadow var(--duration-normal) var(--ease-out);
}

.gallery-item:hover {
    transform: scale(1.02);
    box-shadow: var(--glow-sm);
}

.gallery-item:active {
    transform: scale(0.98);
}

/**
 * Gallery Image Zoom on Hover
 */
.gallery-item img,
.gallery-item canvas {
    transition: transform var(--duration-slow) var(--ease-out);
}

.gallery-item:hover img,
.gallery-item:hover canvas {
    transform: scale(1.1);
}

/**
 * Gallery Info Slide Up
 */
.gallery-item-info {
    transition: opacity var(--duration-fast) var(--ease-out),
                transform var(--duration-normal) var(--ease-out);
    transform: translateY(4px);
}

.gallery-item:hover .gallery-item-info {
    opacity: 1;
    transform: translateY(0);
}

/**
 * Bookmark Fade In
 */
.gallery-item-bookmark {
    transition: opacity var(--duration-fast) var(--ease-out),
                transform var(--duration-fast) var(--ease-out);
    transform: scale(0.8);
    opacity: 0;
}

.gallery-item:hover .gallery-item-bookmark {
    transform: scale(1);
    opacity: 1;
}

/**
 * Thumbnail Glow Effect
 */
.thumbnail-glow {
    position: relative;
}

.thumbnail-glow::after {
    content: '';
    position: absolute;
    inset: -4px;
    
    background: var(--accent-gradient);
    border-radius: inherit;
    
    opacity: 0;
    z-index: -1;
    
    transition: opacity var(--duration-normal) var(--ease-out);
}

.thumbnail-glow:hover::after {
    opacity: 0.5;
    animation: glowPulse 2s var(--ease-in-out) infinite;
}

/* =============================================================================
   12. INPUT FOCUS ANIMATIONS
   ============================================================================= */

/**
 * Input Focus Border Animation
 */
.control-input,
.control-select,
.control-textarea {
    transition: border-color var(--duration-fast) var(--ease-out),
                box-shadow var(--duration-fast) var(--ease-out);
}

/**
 * Input Focus Glow
 */
.input-focus-glow:focus {
    animation: inputFocusGlow 0.3s var(--ease-out);
}

@keyframes inputFocusGlow {
    0% {
        box-shadow: 0 0 0 0 var(--accent-subtle);
    }
    50% {
        box-shadow: 0 0 0 6px var(--accent-subtle);
    }
    100% {
        box-shadow: 0 0 0 3px var(--accent-subtle);
    }
}

/**
 * Checkbox Check Animation
 */
.checkbox-custom::after {
    transition: transform var(--duration-fast) var(--ease-bounce),
                opacity var(--duration-fast) var(--ease-out);
}

/**
 * Radio Dot Animation
 */
.radio-custom::after {
    transition: transform var(--duration-fast) var(--ease-bounce),
                opacity var(--duration-fast) var(--ease-out);
}

/**
 * Range Slider Thumb Animation
 */
.control-range::-webkit-slider-thumb {
    transition: transform var(--duration-fast) var(--ease-out),
                box-shadow var(--duration-fast) var(--ease-out);
}

/**
 * Color Picker Animation
 */
.control-color {
    transition: transform var(--duration-fast) var(--ease-out),
                border-color var(--duration-fast) var(--ease-out),
                box-shadow var(--duration-fast) var(--ease-out);
}

.control-color:hover {
    transform: scale(1.05);
}

.control-color:active {
    transform: scale(0.95);
}

/**
 * Search Input Clear Button
 */
.search-clear {
    transition: opacity var(--duration-fast) var(--ease-out),
                transform var(--duration-fast) var(--ease-out);
}

.search-clear:hover {
    transform: scale(1.1);
}

.search-clear:active {
    transform: scale(0.9);
}

/* =============================================================================
   13. MODAL & PANEL TRANSITIONS
   ============================================================================= */

/**
 * Modal Backdrop
 */
.modal-backdrop {
    transition: opacity var(--duration-normal) var(--ease-out);
}

.modal:not([hidden]) .modal-backdrop {
    animation: fadeIn var(--duration-normal) var(--ease-out);
}

/**
 * Modal Content
 */
.modal-content {
    transition: transform var(--duration-normal) var(--ease-out),
                opacity var(--duration-normal) var(--ease-out);
}

/**
 * Modal Open Animation
 */
@keyframes modalOpen {
    from {
        opacity: 0;
        transform: scale(0.95) translateY(10px);
    }
    to {
        opacity: 1;
        transform: scale(1) translateY(0);
    }
}

.modal:not([hidden]) .modal-content {
    animation: modalOpen var(--duration-normal) var(--ease-out);
}

/**
 * Modal Close Animation
 */
@keyframes modalClose {
    from {
        opacity: 1;
        transform: scale(1) translateY(0);
    }
    to {
        opacity: 0;
        transform: scale(0.95) translateY(10px);
    }
}

/**
 * Sidebar Slide
 */
.sidebar {
    transition: transform var(--duration-slow) var(--ease-out),
                visibility var(--duration-slow) var(--ease-out);
}

/**
 * Section Collapse Animation
 */
.section-content {
    transition: max-height var(--duration-slow) var(--ease-out),
                padding var(--duration-slow) var(--ease-out),
                opacity var(--duration-normal) var(--ease-out);
}

/**
 * Dropdown Animation
 */
.fractal-dropdown {
    transition: all var(--duration-fast) var(--ease-out);
}

@keyframes dropdownOpen {
    from {
        opacity: 0;
        transform: translateX(-50%) translateY(-8px);
    }
    to {
        opacity: 1;
        transform: translateX(-50%) translateY(0);
    }
}

.fractal-dropdown:not([hidden]) {
    animation: dropdownOpen var(--duration-fast) var(--ease-out);
}

/**
 * Context Menu Animation
 */
.context-menu {
    transition: opacity var(--duration-fast) var(--ease-out),
                transform var(--duration-fast) var(--ease-out),
                visibility var(--duration-fast) var(--ease-out);
}

@keyframes contextMenuOpen {
    from {
        opacity: 0;
        transform: scale(0.95);
    }
    to {
        opacity: 1;
        transform: scale(1);
    }
}

.context-menu:not([hidden]) {
    animation: contextMenuOpen var(--duration-fast) var(--ease-out);
}

/**
 * Slide Panel Animation
 */
.slide-panel {
    transition: transform var(--duration-slow) var(--ease-out),
                visibility var(--duration-slow) var(--ease-out);
}

/**
 * Info Panel Animation
 */
.info-panel {
    transition: transform var(--duration-slow) var(--ease-out),
                visibility var(--duration-slow) var(--ease-out);
}

/* =============================================================================
   14. SKELETON LOADING
   ============================================================================= */

/**
 * Skeleton Base
 */
.skeleton {
    position: relative;
    overflow: hidden;
    
    background-color: var(--surface-2);
    border-radius: var(--radius-md);
}

.skeleton::after {
    content: '';
    position: absolute;
    inset: 0;
    
    background: linear-gradient(
        90deg,
        transparent,
        rgba(255, 255, 255, 0.05),
        transparent
    );
    
    animation: skeletonShimmer 1.5s infinite;
}

@keyframes skeletonShimmer {
    0% {
        transform: translateX(-100%);
    }
    100% {
        transform: translateX(100%);
    }
}

/**
 * Skeleton Variants
 */
.skeleton-text {
    height: 1em;
    width: 100%;
}

.skeleton-text-short {
    width: 60%;
}

.skeleton-thumbnail {
    aspect-ratio: 16/10;
    width: 100%;
}

.skeleton-avatar {
    width: 40px;
    height: 40px;
    border-radius: 50%;
}

.skeleton-button {
    width: 100px;
    height: 36px;
}

/**
 * Skeleton Group
 */
.skeleton-group {
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
}

/* =============================================================================
   15. CANVAS & RENDER ANIMATIONS
   ============================================================================= */

/**
 * Canvas Fade In
 */
.fractal-canvas {
    transition: opacity var(--duration-normal) var(--ease-out);
}

/**
 * Render Start Flash
 */
@keyframes renderStart {
    0% {
        background-color: transparent;
    }
    20% {
        background-color: rgba(99, 102, 241, 0.1);
    }
    100% {
        background-color: transparent;
    }
}

.canvas-container.rendering {
    animation: renderStart 0.5s var(--ease-out);
}

/**
 * Tile Render Animation
 * For progressive rendering feedback
 */
@keyframes tileReveal {
    from {
        opacity: 0;
        filter: blur(4px);
    }
    to {
        opacity: 1;
        filter: blur(0);
    }
}

.tile-reveal {
    animation: tileReveal var(--duration-fast) var(--ease-out);
}

/**
 * Zoom Animation
 */
@keyframes zoomToPoint {
    from {
        transform: scale(1);
    }
    to {
        transform: scale(2);
    }
}

@keyframes zoomFromPoint {
    from {
        transform: scale(2);
    }
    to {
        transform: scale(1);
    }
}

/**
 * Pan Animation
 */
.pan-smooth {
    transition: transform var(--duration-normal) var(--ease-smooth);
}

/**
 * Selection Box Animation
 */
.selection-box {
    animation: selectionBoxPulse 1s var(--ease-in-out) infinite;
}

@keyframes selectionBoxPulse {
    0%, 100% {
        border-color: var(--accent);
    }
    50% {
        border-color: var(--accent-light);
    }
}

/**
 * Crosshair Animation
 */
.center-crosshair {
    animation: crosshairFade 2s var(--ease-in-out) infinite;
}

@keyframes crosshairFade {
    0%, 100% {
        opacity: 0.5;
    }
    50% {
        opacity: 0.8;
    }
}

/**
 * Minimap Viewport Pulse
 */
.minimap-viewport {
    animation: minimapViewportPulse 2s var(--ease-in-out) infinite;
}

@keyframes minimapViewportPulse {
    0%, 100% {
        border-color: var(--accent);
    }
    50% {
        border-color: var(--accent-light);
        box-shadow: 0 0 8px var(--accent-glow);
    }
}

/**
 * Histogram Bar Animation
 */
@keyframes histogramBar {
    from {
        transform: scaleY(0);
    }
    to {
        transform: scaleY(1);
    }
}

.histogram-bar {
    transform-origin: bottom;
    animation: histogramBar var(--duration-normal) var(--ease-out);
}

/**
 * Orbit Trail Animation
 */
@keyframes orbitTrail {
    0% {
        stroke-dashoffset: 1000;
        opacity: 0;
    }
    10% {
        opacity: 1;
    }
    100% {
        stroke-dashoffset: 0;
        opacity: 1;
    }
}

.orbit-path {
    stroke-dasharray: 1000;
    animation: orbitTrail 2s var(--ease-out) forwards;
}

/* =============================================================================
   16. KEYFRAME LIST ANIMATIONS
   ============================================================================= */

/**
 * Keyframe Item Entry
 */
@keyframes keyframeEntry {
    from {
        opacity: 0;
        transform: translateX(-10px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

.keyframe-item {
    animation: keyframeEntry var(--duration-fast) var(--ease-out);
}

/**
 * Keyframe Drag Animation
 */
.keyframe-item.dragging {
    animation: keyframeDrag 0.3s var(--ease-out);
}

@keyframes keyframeDrag {
    from {
        transform: scale(1);
        box-shadow: none;
    }
    to {
        transform: scale(1.02);
        box-shadow: var(--shadow-lg);
    }
}

/* =============================================================================
   17. PALETTE ANIMATIONS
   ============================================================================= */

/**
 * Color Stop Drag
 */
.color-stop {
    transition: transform var(--duration-fast) var(--ease-out),
                box-shadow var(--duration-fast) var(--ease-out);
}

.color-stop.dragging {
    transition: none;
}

/**
 * Palette Preview Update
 */
@keyframes paletteUpdate {
    0% {
        filter: brightness(1);
    }
    50% {
        filter: brightness(1.2);
    }
    100% {
        filter: brightness(1);
    }
}

.palette-updated {
    animation: paletteUpdate 0.3s var(--ease-out);
}

/**
 * Palette Cycle Animation
 */
@keyframes paletteCycle {
    from {
        filter: hue-rotate(0deg);
    }
    to {
        filter: hue-rotate(360deg);
    }
}

.palette-cycling {
    animation: paletteCycle 10s linear infinite;
}

/* =============================================================================
   18. ACCESSIBILITY - REDUCED MOTION
   ============================================================================= */

/**
 * Respect prefers-reduced-motion
 * [Accessibility: Critical for users with vestibular disorders]
 */
@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
    
    .loading-spinner,
    .spinner,
    .spinner-ring,
    .spinner-core,
    .spinner-dots span {
        animation: none !important;
    }
    
    .glow-pulse,
    .pulse,
    .breathe {
        animation: none !important;
    }
    
    .infinite-zoom,
    .fractal-spiral {
        animation: none !important;
    }
    
    /* Provide static alternatives */
    .spinner {
        border-color: var(--accent);
    }
    
    .loading-spinner .spinner-ring {
        border-color: var(--accent);
        opacity: 0.3;
    }
    
    .loading-spinner .spinner-ring:nth-child(1) {
        opacity: 1;
    }
}

/* =============================================================================
   19. PRINT STYLES - DISABLE ANIMATIONS
   ============================================================================= */

@media print {
    *,
    *::before,
    *::after {
        animation: none !important;
        transition: none !important;
    }
}

/* =============================================================================
   END OF ANIMATIONS.CSS
   ============================================================================= */
